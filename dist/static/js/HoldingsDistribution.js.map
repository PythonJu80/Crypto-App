{"version":3,"file":"HoldingsDistribution.js","sources":["../../../src/frontend/components/PortfolioDashboard/HoldingsDistribution.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { PieChart, Pie, Cell, ResponsiveContainer, Tooltip } from 'recharts';\n\nconst COLORS = ['#00FF00', '#98FF98', '#32CD32', '#006400', '#90EE90'];\n\nconst CustomTooltip = ({ active, payload }) => {\n  if (!active || !payload?.length) return null;\n\n  const data = payload[0].payload;\n  return (\n    <div className=\"bg-pepe-dark/90 shadow-pepe rounded-lg p-4 border-2 border-pepe-primary\">\n      <p className=\"font-['Press_Start_2P'] text-pepe-primary\">{data.name}</p>\n      <p className=\"text-pepe-light\">\n        Allocation: {data.value.toFixed(2)}%\n      </p>\n      <p className=\"text-pepe-light\">\n        Value: {new Intl.NumberFormat('en-US', {\n          style: 'currency',\n          currency: 'USD'\n        }).format(data.rawValue)}\n      </p>\n    </div>\n  );\n};\n\nCustomTooltip.propTypes = {\n  active: PropTypes.bool,\n  payload: PropTypes.arrayOf(\n    PropTypes.shape({\n      payload: PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n        rawValue: PropTypes.number.isRequired,\n      }),\n    })\n  ),\n};\n\nconst HoldingsDistribution = ({ data }) => {\n  const [activeIndex, setActiveIndex] = useState(null);\n\n  return (\n    <div className=\"p-6\">\n      <h2 className=\"text-xl font-['Press_Start_2P'] mb-6 text-pepe-primary\">\n        Holdings Distribution\n      </h2>\n      \n      <div className=\"h-64\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <PieChart>\n            <Pie\n              data={data.chartData}\n              dataKey=\"value\"\n              nameKey=\"name\"\n              cx=\"50%\"\n              cy=\"50%\"\n              outerRadius={80}\n              onMouseEnter={(_, index) => setActiveIndex(index)}\n              onMouseLeave={() => setActiveIndex(null)}\n            >\n              {data.chartData.map((entry, index) => (\n                <Cell \n                  key={`cell-${index}`}\n                  fill={COLORS[index % COLORS.length]}\n                  opacity={activeIndex === index ? 0.8 : 1}\n                  className=\"transition-opacity duration-200\"\n                />\n              ))}\n            </Pie>\n            <Tooltip content={<CustomTooltip />} />\n          </PieChart>\n        </ResponsiveContainer>\n      </div>\n\n      <div className=\"mt-6\">\n        <h3 className=\"text-lg font-['Press_Start_2P'] mb-4 text-pepe-primary\">\n          Top Holdings\n        </h3>\n        <div className=\"space-y-3\">\n          {data.top.map((holding, index) => (\n            <div \n              key={holding.symbol}\n              className=\"flex items-center justify-between p-3 rounded-lg bg-pepe-dark/90 border-2 border-pepe-primary hover:bg-pepe-dark/70 transition-colors duration-200 animate-usb-pulse\"\n            >\n              <div className=\"flex items-center\">\n                <div\n                  className=\"w-3 h-3 rounded-full mr-3\"\n                  style={{ backgroundColor: COLORS[index % COLORS.length] }}\n                />\n                <span className=\"font-['Press_Start_2P'] text-pepe-primary\">\n                  {holding.symbol}\n                </span>\n              </div>\n              <div className=\"text-right\">\n                <span className=\"font-['Press_Start_2P'] text-pepe-primary\">\n                  {holding.allocation.toFixed(2)}%\n                </span>\n                <p className=\"text-sm text-pepe-light\">\n                  {new Intl.NumberFormat('en-US', {\n                    style: 'currency',\n                    currency: 'USD'\n                  }).format(holding.value)}\n                </p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nHoldingsDistribution.propTypes = {\n  data: PropTypes.shape({\n    chartData: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n        rawValue: PropTypes.number.isRequired,\n      })\n    ).isRequired,\n    top: PropTypes.arrayOf(\n      PropTypes.shape({\n        symbol: PropTypes.string.isRequired,\n        allocation: PropTypes.number.isRequired,\n        value: PropTypes.number.isRequired,\n      })\n    ).isRequired,\n  }).isRequired,\n};\n\nexport default HoldingsDistribution;"],"names":["COLORS","CustomTooltip","active","payload","length","data","jsxs","className","children","jsx","name","value","toFixed","Intl","NumberFormat","style","currency","format","rawValue","propTypes","PropTypes","bool","arrayOf","shape","string","isRequired","number","HoldingsDistribution","activeIndex","setActiveIndex","useState","ResponsiveContainer","width","height","PieChart","jsxRuntimeExports","Pie","chartData","dataKey","nameKey","cx","cy","outerRadius","onMouseEnter","_","index","onMouseLeave","map","entry","Cell","fill","opacity","Tooltip","content","top","holding","backgroundColor","symbol","allocation"],"mappings":"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"}